@model ItemVM

@{
    ViewData["Title"] = "Item Details";
}

<div class="container">
    <h2>@Model.Item.Name</h2>

    <div class="row">
        <div class="col-md-6">
            <img src="@Model.Item.ImageUrl" alt="@Model.Item.Name" class="img-fluid" />
        </div>
        <div class="col-md-6">
            <h3>@Model.Item.Description</h3>
            <p><strong>Category:</strong> @Model.Item.Category?.Name</p>
            <p><strong>Condition:</strong> @Model.Item.Condition</p>
            <p><strong>Starting Price:</strong> @Model.Item.StartingPrice.ToString("C")</p>
            <p><strong>Auction Status:</strong> 
                <span class="badge bg-info text-dark">@Model.AuctionStatus</span>
            </p>

            <!-- Bid Form -->
            @if (Model.AuctionStatus == AuctionStatus.InAuction)  
            {
                <form method="post" action="@Url.Action("PlaceBid", "Bid")">
                    <div class="form-group">
                        <label for="bidAmount">Place Your Bid:</label>
                        <input type="number" name="bidAmount" id="bidAmount" class="form-control" placeholder="Enter your bid" required min="@Model.Item.StartingPrice" />
                    </div>
                    <input type="hidden" name="ItemId" value="@Model.Item.Id" />
                    <input type="hidden" name="AuctionId" value="@Model.AuctionStatus" /> <!-- Assuming Auction ID is part of the AuctionStatus model -->
                    <button type="submit" class="btn btn-primary">Place Bid</button>
                </form>
            }
            else
            {
                <p><strong>The auction is not currently active. Please check back later!</strong></p>
            }
        </div>
    </div>
</div>
